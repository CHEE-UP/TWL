## 2020206

#### TODO

index

> - 1ì°¨ ì•Œê³ ë¦¬ì¦˜
> - 2ì°¨ django 
> - 3ì°¨ tech-interview



## 1ì°¨ - algorithm

N-Queenë¬¸ì œë¥¼ í’€ì–´ë³´ë ¤í–ˆì§€ë§Œ ì‹¤íŒ¨í–ˆë‹¤...ë„ˆë¬´ì–´ë ¤ìš´ê²ƒ ì•„ë‹™ë‹ˆê¹Œ. ì–´ì œ dfs ì•Œê³ ë¦¬ì¦˜ ê°œë… ì´í•´í•´ì„œ ë°±íŠ¸ë˜í‚¹ í•´ë³´ê³ ì‹¶ë‹¤! í–ˆëŠ”ë° ì–´ë–»ê²Œ í’€ì§€ ê°ë„ ì•ˆì˜¤ê³ , ì½”ë“œë¥¼ ë´¤ìŒì—ë„ ì´í•´ë¥¼ í•  ìˆ˜ ì—†ì—ˆë‹¤ ğŸ˜­í•µì¢Œì ˆ 

ê·¸ë˜ë„ í‘¸ëŠ” ì›ë¦¬ëŠ” ë‚¨ê¸°ê³  ì‹¶ì–´ì„œ ì‘ì„± 

n-queen ë¬¸ì œëŠ” ì²´ìŠ¤ì˜ ì—¬ì™•ì„ ì–´ë–»ê²Œ ë°°ì¹˜í•˜ëŠ”ê°€ì˜ ë¬¸ì œì´ë‹¤. í€¸ì€ (ìƒí•˜ì¢Œìš°/ëŒ€ê°ì„ )ì´ ë‹¤ ê°ˆìˆ˜ìˆë‹¤. n*nì˜ ì²´ìŠ¤íŒì— nê°œì˜ ì—¬ì™•ì„ ë°°ì¹˜í•  ê²½ìš°, ì„œë¡œ ê³µê²©í•  ìˆ˜ ì—†ëŠ” ì¡°ê±´ìœ¼ë¡œ ë°°ì¹˜í•˜ëŠ” ê²½ìš°ì˜ìˆ˜ëŠ” ëª‡ì¸ê°€? ë¥¼ í‘¸ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤. ë”± ë´¤ì„ë•Œ DFS ë¥¼ ìƒê°í•  ìˆ˜ ìˆë‹¤. (`1x1`ì˜ ê²½ìš°ì—ëŠ” 1)



![img](https://t1.daumcdn.net/cfile/tistory/216ADD4451A1DABE2F)

ì´ëŸ°ì‹ìœ¼ë¡œ 0ë²ˆì§¸ row ì— í•˜ë‚˜ì”© ë°°ì¹˜í•œ í›„, ê·¸ ì˜†ì¹¸ì— ì—¬ì™•ì´ ì˜¬ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ ì°¾ëŠ”ë‹¤. ì—†ë‹¤ë©´ back tracking ì„í†µí•´ ë‹¤ì‹œ ë‚´ë ¤ê°€ë©´ì„œ ê²½ìš°ì˜ ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.

##### ì°¾ì•„ë³¸ ì½”ë“œ

```python
def promising(i,col):
    k=0
    correct=True
    while (k<i and correct): 
        if (col[i]==col[k] or abs(col[i]-col[k])==i-k):
            correct=False
            break
        k+=1
    return correct

def queens(n,i,col,count):
    if (promising(i,col)): # queue ë°°ì¹˜í•  ìˆ˜ ìˆëŠ”ì§€ ì²´í¬ 
        if (i==n-1):
            count.append(col)
        else:
            for j in range(n):
                col[i+1]=j
                queens(n,i+1,col,count)

def solution(n):
    col= [0] * n  
    global count
    count=[]
    queens(n,-1,col,count)
    return len(count)
```

promissing ì—ì„œ ë°°ì¹˜ê°€ ë˜ëŠ”ì§€ë¥¼ ì²´í¬í•˜ê³ , í•´ë‹¹ ê°’ì´ ë‹¤ ì²´í¬ë˜ë©´ queen ì—ì„œ í•œë²ˆ ë” ì²´í¬í•˜ì—¬ ê²½ìš°ì˜ìˆ˜ë¥¼ ë”í•´ì¤€ë‹¤. í•˜ì§€ë§Œ ëª…í™•íˆ ì´í•´í•˜ì§€ ëª»í–ˆìŒ ã… ã…  ì˜¤ëŠ˜ì€ ì—¬ê¸°ì„œ ë...ë‚˜ì˜ ì•Œê³ ë¦¬ì¦˜ í•œê³„ë¥¼ ëŠë‚€ë‹¤. DFS BFS ì •ë§ ì–´ë ¤ìš´ë“¯ 



## 2ì°¨ - django

### About View

#### view

ì‚¬ìš©ìê°€ ìš”ì²­í•œ ë°ì´í„°ë¥¼ ëª¨ë¸ ë˜ëŠ” ì™¸ë¶€ì—ì„œ ê°€ì ¸ì™€ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ì—­í• 

```python
from django.http import HttpResponse
from django.views import View

class MyView(View):

    def get(self, request, *args, **kwargs):
        return HttpResponse('Hello, World!')
```

view ëŠ” `HttpResponse` ë˜ëŠ” `exception` ë¥¼ ë°˜í™˜í•œë‹¤. 

##### Flow

1. [`setup()`](https://docs.djangoproject.com/ko/3.0/ref/class-based-views/base/#django.views.generic.base.View.setup)
2. [`dispatch()`](https://docs.djangoproject.com/ko/3.0/ref/class-based-views/base/#django.views.generic.base.View.dispatch)
3. [`http_method_not_allowed()`](https://docs.djangoproject.com/ko/3.0/ref/class-based-views/base/#django.views.generic.base.View.http_method_not_allowed)
4. [`options()`](https://docs.djangoproject.com/ko/3.0/ref/class-based-views/base/#django.views.generic.base.View.options)

##### Attributes

```python
from django.http import HttpResponse
from django.views import View

class MyView(View):
    def get(self, request, *args, **kwargs):
        return HttpResponse('Hello, World!'
```

1. `http_method_names`

   í•´ë‹¹ ë·°ì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ HTTP Method ë¥¼ ì œê³µí•´ì¤€ë‹¤

   ```
   ['get', 'post', 'put', 'patch', 'delete', 'head', 'options', 'trace']
   ```

##### Methods

- as_view

  ìš”ì²­ì„ ë°›ê³  ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” ë·°ë¥¼ ë°˜í™˜í•œë‹¤. 

  ```python
  response = MyView.as_view()(request)
  ```

- set_up()

- dispatch()

  `view`ë·° ì˜ ì¼ë¶€- `request` ì¸ìˆ˜ì™€ ì¸ìˆ˜ ë¥¼ í—ˆìš© í•˜ê³  HTTP ì‘ë‹µì„ ë¦¬í„´í•œë‹¤.


### Class-Based-View

`django class-based view` ëŠ” DRF > ApiView í´ë˜ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. ì¥ê³ ì˜ _view_ í´ë˜ìŠ¤ë¥¼ ìƒì†í•œë‹¤. 

##### django views ì™€ì˜ ì°¨ì´

- `HttpRequest` ëŒ€ì‹  `Request` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.
- `HttpResponse` ëŒ€ì‹  `Response` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.
- ëª¨ë“  ApiException ì˜ˆì™¸ê°€ í¬ì°©í•˜ì—¬ ì ì ˆí•œ ì‘ë‹µì„ ë³´ë‚¸ë‹¤.
- ìš”ì²­ëœ request ëŠ” dispatherë¡œ ê°€ê¸° ì „ ì ì ˆí•œ ê¶Œí•œê²€ì‚¬ë¥¼ ì‹¤í–‰í•œë‹¤. 



APIView í´ë˜ìŠ¤ëŠ” django ì—ì„œ ì œê³µí•˜ëŠ” view ì™€ ê±°ì˜ ë™ì¼í•˜ì§€ë§Œ, get / post ê°™ì€ HTTP ë©”ì„œë“œë“¤ì„ ì ì ˆí•œ í—¨ë“¤ëŸ¬ ë©”ì„œë“œë¡œ ì „ë‹¬í•´ì¤€ë‹¤. ë˜í•œ API ì •ì±…ì— ë‹¤ì–‘í•œ ì¸¡ë©´ì„ ì œì–´í•˜ëŠ” ë§ì€ ì†ì„±ë“¤ì´ ì„¤ì •ë˜ì–´ìˆë‹¤.

```python
from rest_framework.views import APIView
from rest_framework.response import Response
from rest_framework import authentication, permissions
from django.contrib.auth.models import User

class ListUsers(APIView):
    """
    View to list all users in the system.

    * Requires token authentication.
    * Only admin users are able to access this view.
    """
    authentication_classes = [authentication.TokenAuthentication]
    permission_classes = [permissions.IsAdminUser]

    def get(self, request, format=None):
        """
        Return a list of all users.
        """
        usernames = [user.username for user in User.objects.all()]
        return Response(usernames)
```

__APIView, GenericAPIView, various Mixins, and Viewsets__ ë“± drf ê°€ ì œê³µí•´ì£¼ëŠ” ì—¬ëŸ¬ ë©”ì„œë“œì™€ ì†ì„±ì€ ì²˜ìŒì— ë³µì¡í•  ìˆ˜ ìˆë‹¤. 



#### Attributes

APIView ì—ì„œ ì œê³µí•˜ëŠ” attrs

- ##### .renderer_classes

- ##### .parser_classes

- ##### .authentication_classes

- ##### .throttle_classes

- ##### .permission_classes

- ##### .content_negotiation_class

#### dispatch ë©”ì„œë“œ 

```
init(í•¸) > 

handle_exception(í•¸ë“¤ëŸ¬ ë©”ì„œë“œ ì˜ˆì™¸ ì „ë‹¬) > 

initialize_request(ìš”ì²­ ì „ë‹¬) > 

finalize_response(ìš”ì²­ ì „ë‹¬)

```

- ##### dispatch() 

  request ë¥¼ ì‚´í´ë³´ê³  ì–´ë–¤ httpmethod ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ ë°˜í™˜í•œë‹¤. ë°”ë¡œ .get(), .post(), .put(), .delete()ê°™ì€ ë©”ì„œë“œì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

- ##### initial()

  í•¸ë“¤ëŸ¬ ë©”ì†Œë“œ í˜¸ì¶œ ì „ì— í•´ì•¼í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ì´ˆê¸°í™”í•œë‹¤. 

- ##### handle_exception()

  í•¸ë“¤ëŸ¬ì— ì˜í•´ ì—ëŸ¬ ë°œìƒì‹œ ë°”ë¡œ ì˜ˆì™¸ return

- ##### initialize_request

  ìš”ì²­ object ë¥¼ django ì— ë„˜ê¸´ë‹¤

- ##### finalize_response

  í•´ë‹¹ ë„˜ê¸´ ê°’ì— ëŒ€í•´ response ë¡œ ë Œë”ë§í•œë‹¤.

- <http://throughkim.kr/2016/05/04/class-based-view/>





### Function Based View

function based view ë¥¼ ì œê³µí•œë‹¤. ê°„ë‹¨í•œ ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ í†µí•´ ì¼ë°˜ view ëŒ€ì‹  ë·° ì¸ìŠ¤í„´ë¥¼ ë°›ì•„ ì²˜ë¦¬í•˜ëŠ” ì œê³µì„ í•œë‹¤. 

##### @api_view()

```python
from rest_framework.decorators import api_view

@api_view(['GET', 'POST'])
def hello_world(request):
    if request.method == 'POST':
        return Response({"message": "Got some data!", "data": request.data})
    return Response({"message": "Hello, world!"})
```

`@api_view()` ë¥¼ ì¨ì¤˜ ë°ì½”ë ˆì´í„°ë¥¼ í†µí•´ fbv ë¥¼ ì•Œë ¤ì¤€ë‹¤. í•´ë‹¹ ë°ì½”ë ˆì´í„°ëŠ” ì‘ë‹µí•  ìˆ˜ ìˆëŠ” http ë©”ì„œë“œë¥¼ ì§€ì •í•´ ì¤„ ìˆ˜ ìˆë‹¤. 

#### API policy decorators

ê¸°ë³¸ ì„¸íŒ…ì„ ì˜¤ë²„ë¼ì´ë”©í•  ìˆ˜ ìˆê²Œ í•˜ê¸°ìœ„í•´, ë˜ë‹¤ë¥¸ ë°ì½”ë ˆì´í„°ë¥¼ ë”í•  ìˆ˜ ìˆë‹¤. 

```python
from rest_framework.decorators import api_view, throttle_classes
from rest_framework.throttling import UserRateThrottle

class OncePerDayUserThrottle(UserRateThrottle):
        rate = '1/day'

@api_view(['GET'])
@throttle_classes([OncePerDayUserThrottle])
def view(request):
    return Response({"message": "Hello for today! See you tomorrow!"})
```

`@throttle_classes` 

íŠ¹ì • ì‚¬ìš©ìì˜ ìŠ¹ì¸ ì—¬ë¶€ ì²´í¬. 

##### ì‚¬ìš©ê°€ëŠ¥í•œ ë°ì½”ë ˆì´í„°

- `@renderer_classes(...)`
- `@parser_classes(...)`
- `@authentication_classes(...)`
- `@throttle_classes(...)`
- `@permission_classes(...)`

#### ê¸°ë³¸ ìŠ¤í‚¤ë§ˆ ëŒ€ì²´í•˜ê¸°

fbv ì˜ ê¸°ë³¸ ìŠ¤í‚¤ë§ˆë¥¼ ëŒ€ì²´í•˜ê¸° ìœ„í•´ì„œ `@schema` ë¥¼ ì‚¬ìš©í•œë‹¤. 

```python
from rest_framework.decorators import api_view, schema
from rest_framework.schemas import AutoSchema

class CustomAutoSchema(AutoSchema):
    def get_link(self, path, method, base_url):
        # override view introspection here...

@api_view(['GET'])
@schema(CustomAutoSchema())
def view(request):
    return Response({"message": "Hello for today! See you tomorrow!"})
```

##### ìŠ¤í‚¤ë§ˆë€

api ë¥¼ í†µí•´ ê¸°ê³„ê°€ ì½ì„ ìˆ˜ ìˆëŠ” api ìì› í•´ë‹¹ ìì›ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ê³  ì‹¶ì„ë•Œ ë³€ê²½í•œë‹¤.

